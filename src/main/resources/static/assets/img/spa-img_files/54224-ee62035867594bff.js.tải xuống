!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0d423738-b5fa-4aed-ac62-0e295a509061",e._sentryDebugIdIdentifier="sentry-dbid-0d423738-b5fa-4aed-ac62-0e295a509061")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54224],{333399:function(e,n,t){"use strict";t.d(n,{r:function(){return c}});var i=t(785893),r=t(587495),a=t(386010),s=t(80128),o=t(351169),l=t(234308),d=t(275615),u=t.n(d);let c=e=>{let{className:n,providerName:t}=e;return(0,i.jsxs)("div",{className:(0,a.default)(u().self,n),children:[(0,i.jsx)(s.Cde,{color:"neutralFaded",unsafeClassName:u().privacyIcon}),(0,i.jsx)(r.x,{font:"body-s-regular",color:"neutralFaded",align:"center",children:(0,l.gl)('Footer on the "Choose option" page, there is a Fresha logo in the end',"%{providerName} securely accepts online bookings with",{providerName:t})}),(0,i.jsx)(o.K,{size:"m",isSpotlightVisible:!1,color:"neutralFaded"})]})}},54224:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var i=t(785893),r=t(667294),a=t(973314),s=t(692553),o=t(730602),l=t(926739),d=t(423541);t(400645),t(512434),t(603096);var u=t(25869),c=t(380270),f=t(380395),m=t(770546),p=t(364740),g=t(269131),h=t(794067),k=t(587495),x=t(80128),y=t(333399),b=t(960704);t(369219);var j=t(234308),v=t(654796),_=t(744204),w=t(116831),T=t(146006),S=t.n(T),A=t(135424);let N=e=>{let{title:n,description:t,linkTo:r,qaType:a,variant:s="medium",target:o}=e;return(0,i.jsx)(A.H,{linkTo:r,variant:s,qaType:a,target:o,isExternal:"_blank"===o,children:(0,i.jsx)(A.H.Content,{children:(0,i.jsx)(A.H.Row,{leftSection:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.x,{font:"body-m-medium",children:n}),(0,i.jsx)(k.x,{font:"body-s-regular",children:t})]})})})})},I=e=>{let{unsafeClassName:n,unsafeStyle:t}=e;return(0,i.jsx)(A.H,{variant:"low",unsafeClassName:n,unsafeStyle:t,children:(0,i.jsx)(A.H.Content,{children:(0,i.jsx)(A.H.Row,{leftSection:(0,i.jsxs)(h.k,{direction:"vertical",gap:"200",children:[(0,i.jsx)(k.x.Skeleton,{font:"body-m-medium",width:"120px"}),(0,i.jsx)(k.x.Skeleton,{font:"body-s-regular",width:"240px"})]}),leftSectionAlignment:"flex-start"})})})},C=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.k,{gap:"300",direction:"vertical",children:[(0,i.jsx)(k.x.Skeleton,{font:"header-m-semibold",width:"80px",unsafeClassName:S()["stack-animation"],unsafeStyle:{"--animation-order":2}}),(0,i.jsx)(I,{unsafeClassName:S()["stack-animation"],unsafeStyle:{"--animation-order":3}})]}),(0,i.jsxs)(h.k,{gap:"300",direction:"vertical",children:[(0,i.jsx)(k.x.Skeleton,{font:"header-m-semibold",width:"80px",unsafeClassName:S()["stack-animation"],unsafeStyle:{"--animation-order":4}}),(0,i.jsxs)(h.k,{gap:"150",direction:"vertical",children:[(0,i.jsx)(I,{unsafeClassName:S()["stack-animation"],unsafeStyle:{"--animation-order":5}}),(0,i.jsx)(I,{unsafeClassName:S()["stack-animation"],unsafeStyle:{"--animation-order":6}}),(0,i.jsx)(I,{unsafeClassName:S()["stack-animation"],unsafeStyle:{"--animation-order":7}})]})]})]}),O=(0,v.B)(`
  query FetchAllOffer($slug: String!) {
    location(slug: $slug) {
      id
      slug
      name
      description
      allowSeoIndex
      owner {
        id
        slug
        name
      }
      address {
        simpleFormatted
        shortFormatted
        streetAddress
        apartmentSuite
        cityName
      }
      ogImage: coverImage(transformer: OG_IMAGE) {
        url
      }
      coverImage(transformer: THUMB) {
        url
      }
      serviceCount
      offers {
        hasMembershipTypes
        hasVouchers
      }
      hasGiftCards
      productStoreSlug
      hasGroupAppointments
    }
  }
`),z=e=>{let{locationSlug:n,isLoading:t,location:s}=e,o=(0,a.lr)(),l=(0,r.useMemo)(()=>Object.fromEntries(o.entries()),[o]),{navigateBack:d,redirectTo:v}=(0,c.H)(),_=!!l.venue,T=!!l.multi,A=!_&&!T,{serviceCount:I,offers:O,hasGiftCards:z,productStoreSlug:B,owner:D,hasGroupAppointments:F}=s||{},H=(0,r.useMemo)(()=>(0,u.jHS)(n,{allOffer:!0,...l.menu&&{menu:l.menu},...l.marketingToken&&{marketingToken:l.marketingToken},...l.cnToken&&{cnToken:l.cnToken}}),[n,l.cnToken,l.marketingToken,l.menu]),E=O?.hasMembershipTypes,P=O?.hasVouchers,W=!!B,L=E||z||P||W,q=(0,r.useRef)(!1);(0,r.useEffect)(()=>{q.current||t||L||F||(q.current=!0,v(H))},[t,F,L,H,v]);let M=(0,j.gl)("Title of the list of possible actions (book / buy)","Choose an option");return(0,i.jsx)(b.l,{children:(0,i.jsxs)(f.e,{width:"narrow",unsafeClassName:S().self,children:[(0,i.jsx)(f.e.Header,{unsafeStyle:void 0,content:(0,i.jsx)(f.e.Header.TextTitle,{label:M}),onBack:T&&D?.slug?()=>(d({pathname:(0,u.brC)(D.slug)}),Promise.resolve()):void 0,suffix:_?(0,i.jsx)(m.z,{id:"close-button",onAction:()=>(d({pathname:(0,u.WuJ)(n)}),Promise.resolve()),variant:"tertiary",size:"l",icon:x.Two,isLabelHidden:!0,isCompact:!0,children:(0,j.__)`Close`}):void 0,backButtonIconSlot:x.Y4O}),(0,i.jsx)(f.e.Container,{hasSidePadding:!0,children:(0,i.jsxs)(p.A,{type:"singleWithTitle",direction:"vertical",rowGap:"m",children:[(0,i.jsx)(p.A.Title,{children:(0,i.jsx)(g.V,{unsafeClassName:S().title,title:M,titleAs:"h1"})}),(0,i.jsx)(p.A.Content,{unsafeClassName:S()["fade-animation"],children:(0,i.jsxs)(h.k,{gap:"300",direction:"vertical",children:[A?(0,i.jsx)(w.e,{isLoading:t,withRating:!1,location:s,skeletonClassName:S()["stack-animation"],skeletonStyle:{"--animation-order":1},qaType:"location-info"}):null,t?(0,i.jsx)(C,{}):(0,i.jsxs)(i.Fragment,{children:[(I??0)>0?(0,i.jsxs)("div",{children:[(0,i.jsx)(k.x,{font:"header-m-semibold",mb:"300",children:(0,j.gl)("Subtitle for list of options possible to book","Book")}),(0,i.jsxs)(h.k,{gap:"150",direction:"vertical",children:[(0,i.jsx)(N,{title:(0,j.gl)("Link to the booking flow","Book an appointment"),description:(0,j.gl)("Description below the booking flow link","Schedule services for yourself"),linkTo:H,qaType:"book-appointment",variant:"medium"}),F?(0,i.jsx)(N,{title:(0,j.gl)("Link to the group booking flow","Group appointment"),description:(0,j.gl)("Description below the group booking flow link","For yourself and others"),linkTo:(0,u.jHS)(n,{allOffer:!0,groupBooking:!0,...l.menu&&{menu:l.menu},...l.marketingToken&&{marketingToken:l.marketingToken},...l.cnToken&&{cnToken:l.cnToken}}),qaType:"book-group-appointment",variant:"medium"}):null]})]}):null,L?(0,i.jsxs)("div",{children:[(0,i.jsx)(k.x,{font:"header-m-semibold",mb:"300",children:(0,j.gl)("Subtitle for list of options possible to buy","Buy")}),(0,i.jsxs)(h.k,{gap:"150",direction:"vertical",children:[E?(0,i.jsx)(N,{title:(0,j.gl)("Link to the buying membership flow","Membership"),description:(0,j.gl)("Description below the buying membership flow link","Bundle your services in to a membership"),linkTo:(0,u.iAm)(n,{...l.menu&&{menu:l.menu},...l.marketingToken&&{marketingToken:l.marketingToken}}),qaType:"membership"}):null,P?(0,i.jsx)(N,{title:(0,j.gl)("Link to the buying voucher flow","Voucher"),description:(0,j.gl)("Description below the buying a voucher flow link","Treat yourself or a friend to future visits"),linkTo:(0,u.WCI)(n,{...l.menu&&{menu:l.menu},...l.marketingToken&&{marketingToken:l.marketingToken}}),qaType:"voucher"}):null,z?(0,i.jsx)(N,{title:(0,j.gl)("Link to the buying gift card flow","Gift Cards"),description:(0,j.gl)("Description below the buying a gift card flow link","Treat yourself or a friend to future visits"),linkTo:(0,u.pWD)(n,{...l.menu&&{menu:l.menu},...l.marketingToken&&{marketingToken:l.marketingToken}}),qaType:"gift-cards"}):null,W?(0,i.jsx)(N,{title:(0,j.gl)("Link to the online store","Products"),description:(0,j.gl)("Description below the online store link","Buy products online"),linkTo:(0,u.nox)(B,{utm_medium:"link",utm_campaign:"link+builder"}),target:"_blank",qaType:"products"}):null]})]}):null]}),A?(0,i.jsx)(y.r,{providerName:D?.name||""}):null]})})]})})]})})},B=(0,d.bH)(async(e,n)=>{let{locale:t}=n,{locationSlug:i}=e.query;if("string"!=typeof i)throw Error("locationSlug not found");return{locationSlug:i,allOfferData:null}}),D=e=>{let{allOfferData:n,locationSlug:t}=e,d=(0,a.lr)(),{data:u,isLoading:c}=(0,o.aT)(O,{slug:t},{revalidateIfStale:!1,fallbackData:n?{result:n,variables:{slug:t}}:void 0});(0,s.XE)({venueID:u?.location?.id});let f=d.get("rwg_token")??void 0,m=d.get("gei")??void 0;return(0,r.useEffect)(()=>{(0,l.Y)({rwgTokenToSave:f,geiTokenToSave:m,providerId:u?.location?.owner?.id||""})},[u?.location?.owner?.id,f,m]),(0,i.jsxs)(i.Fragment,{children:[u?.location?(0,i.jsx)(_.Z,{location:u.location}):null,(0,i.jsx)(z,{locationSlug:t,isLoading:c,location:u?.location})]})};D.getInitialProps=B;var F=D},145613:function(e,n,t){"use strict";t.d(n,{jA:function(){return l},bv:function(){return s},Jj:function(){return u.Jj},JV:function(){return d.JV},Tk:function(){return d.Tk},WZ:function(){return d.WZ},Ek:function(){return u.Ek}});var i=t(234308),r=t(603096),a=t(25869);function s(e,n,t){return(0,a.jQs)(e,(0,r.Le)({linkTo:(0,a.jHS)(n),locale:t}))}let o=e=>{let{name:n,address:t}=e,i=[n,[t?.streetAddress,t?.apartmentSuite].filter(Boolean).join(" "),t?.cityName].filter(Boolean).join(" - ");return`${i} | Fresha`};function l(e){let{name:n,address:t}=e;return(0,i.__)("Make an appointment at %{location}",{location:o({name:n,address:t})})}var d=t(25687),u=t(499930)},25687:function(e,n,t){"use strict";t.d(n,{JV:function(){return o},Tk:function(){return d},WZ:function(){return l},rC:function(){return s}});var i=t(786546),r=t(234308);t(25869);var a=t(499930);let s=(0,i.BX)(`
  fragment LocationProfileMetaFragment on Location {
    name
    address {
      apartmentSuite
      cityName
      servicingAreas
      streetAddress
    }
    primaryBusinessType {
      name
    }
  }
`);function o(e){let n=e.address?.servicingAreas?[...e.address.servicingAreas]:[],t=n.pop();return n.length>1?(0,r.gl)("Hair services London | Book with SalonName at King's Street. Nearby District 1, District 2 and District 3.","%{businessType} %{city} | Book with %{name} at %{address}. Nearby %{listOfDistrictsNames} and %{lastDistrictName}.",{name:e.name,address:(0,a.H)(e.address?.streetAddress,e.address?.apartmentSuite),city:e.address?.cityName,businessType:e.primaryBusinessType?.name,listOfDistrictsNames:n.join(", "),lastDistrictName:t}):(0,r.__)("%{businessType} %{city} | Book with %{name} at %{address}.",{name:e.name,address:(0,a.H)(e.address?.streetAddress,e.address?.apartmentSuite),city:e.address?.cityName,businessType:e.primaryBusinessType?.name})}function l(e){let n=[e.name,(0,a.H)(e.address?.streetAddress,e.address?.apartmentSuite),e.address?.cityName].filter(Boolean).join(" - ");return`${n} | Fresha`}function d(e){let n=e.address?.servicingAreas?[...e.address.servicingAreas]:[];return[e.name,e.address?.cityName,(0,a.H)(e.address?.streetAddress,e.address?.apartmentSuite),e.primaryBusinessType?.name,...n].filter(Boolean).join(", ")}},499930:function(e,n,t){"use strict";t.d(n,{Ek:function(){return s},H:function(){return r},Jj:function(){return a},mN:function(){return o}});var i=t(25869);function r(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}function a(e,n){return(0,i.jQs)(e,n)}function s(e){return e?"index, follow":"noindex, noarchive, follow"}function o(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.map((e,n)=>`${e} ${n+1}x`).join(", ")}},744204:function(e,n,t){"use strict";var i=t(785893),r=t(186667),a=t(559670),s=t(234308),o=t(145613),l=t(25869);n.Z=e=>{let{location:n}=e;if(!n)return null;let{host:t}=new URL(r.APP_URL),d=n.description.split(".")[0],u=(0,o.jA)({name:n.name,address:n.address||{}}),c=n.ogImage?.url||"",f=(0,o.Jj)(t,(0,l.WuJ)(n.slug)),m=(0,o.bv)(t,n.slug,(0,s.Kd)().language),p=(0,o.Ek)(n.allowSeoIndex);return(0,i.jsx)(a.ZP,{canonical:f,description:d,robots:p,openGraph:{title:u,image:c,url:m},title:u})}},116831:function(e,n,t){"use strict";t.d(n,{e:function(){return k}});var i=t(785893),r=t(794067),a=t(304616),s=t(587495),o=t(784748),l=t(875916),d=t(652462),u=t(456624),c=t(795928);t(667294);var f=t(80128),m=t(25869),p=t(77341),g=t.n(p);let h=e=>{let{unsafeClassName:n,unsafeStyle:t,_isAnimated:o=!0}=e;return(0,i.jsxs)(r.k,{gap:"200",direction:"horizontal",unsafeClassName:n,unsafeStyle:t,children:[(0,i.jsx)(a.O,{width:"64px",height:"64px",isAnimated:o}),(0,i.jsxs)(r.k,{gap:"25",direction:"vertical",children:[(0,i.jsx)(s.x.Skeleton,{font:"body-m-semibold",width:"80px"}),(0,i.jsx)(s.x.Skeleton,{font:"body-s-semibold",width:"120px"}),(0,i.jsx)(s.x.Skeleton,{font:"body-s-regular",width:"240px"})]})]})},k=e=>{let{location:n,isLoading:t,withRating:a=!0,displayShortAddress:p=!1,skeletonClassName:k,skeletonStyle:x,qaType:y}=e,b=(0,o.G)("laptop");if(!n||t)return(0,i.jsx)(h,{unsafeClassName:k,unsafeStyle:x});let{name:j,rating:v,reviewsCount:_,address:w,coverImage:T,slug:S}=n;return(0,i.jsxs)("div",{className:g().self,"data-qa":y,children:[(0,i.jsx)(l.f,{isExternal:!0,linkTo:(0,m.WuJ)(S),children:(0,i.jsx)(d.l,{image:(0,i.jsx)(u.E,{alt:`${j} - ${w?.shortFormatted}`,src:T?.url||"",loading:"lazy"}),size:"2xl"})}),(0,i.jsxs)(r.k,{gap:"25",direction:"vertical",unsafeStyle:{minWidth:"0"},children:[(0,i.jsx)(s.x,{font:"body-m-semibold",children:j}),a&&v?(0,i.jsx)(c.g,{halfStarIconSlot:f.$Dh,id:"rating",rating:v,ratingCount:_??void 0,stars:"five",variant:"default",size:"m",qaType:"rating"}):null,w?(0,i.jsx)(s.x,{font:"body-s-regular",color:"neutralFaded",overflow:"ellipsis",noWrap:b,children:p&&w.shortFormatted?w.shortFormatted:w.simpleFormatted}):null]})]})}},275615:function(e){e.exports={self:"ProviderFooter_self__RpBvA",privacyIcon:"ProviderFooter_privacyIcon__llm5H"}},77341:function(e){e.exports={self:"LocationInfo_self__AAmxd"}},146006:function(e){e.exports={"stack-animation":"AllOffer_stack-animation__zS6me",stackAnimation:"AllOffer_stack-animation__zS6me","lift-in":"AllOffer_lift-in__jKIGU",liftIn:"AllOffer_lift-in__jKIGU","fade-animation":"AllOffer_fade-animation__a_vNH",fadeAnimation:"AllOffer_fade-animation__a_vNH","fade-in":"AllOffer_fade-in__gdt_k",fadeIn:"AllOffer_fade-in__gdt_k",self:"AllOffer_self___W5us",title:"AllOffer_title__my_IR"}},616790:function(){},652462:function(e,n,t){"use strict";t.d(n,{l:function(){return _}});var i=t(397898),r=t(808683),a=t(386010),s=t(667294),o=t(552978),{image:l,custom:d}=o.thumbnailVariants;o.p4.filter(e=>"rectangleSoft"!==e&&"hexagon"!==e),t(616790);var u={"c-tim__wrapper":"W-c7mw","c-tim__image":"gsRtZw","--size-2xs":"NitI6w","--size-xs":"Wpf2sw","--size-s":"pFkr0w","--size-m":"_1WM_1w","--size-l":"eMfzVw","--size-xl":"WqJ3iw","--size-2xl":"GmKIBw","--size-3xl":"_3D9Zfw","--size-4xl":"UgpE9w","--size-5xl":"Mj7Ndw","--size-6xl":"mYDfzw"},c={wrapper:u["c-tim__wrapper"],image:u["c-tim__image"],size:e=>u[`--size-${e}`],hideBorder:e=>e&&u["--hide-border"]},f=t(785893),m=Object.defineProperty,p=Object.defineProperties,g=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,y=(e,n,t)=>n in e?m(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,b=(e,n)=>{for(var t in n||(n={}))k.call(n,t)&&y(e,t,n[t]);if(h)for(var t of h(n))x.call(n,t)&&y(e,t,n[t]);return e},j=(e,n)=>p(e,g(n)),v=(e,n)=>{var t={};for(var i in e)k.call(e,i)&&0>n.indexOf(i)&&(t[i]=e[i]);if(null!=e&&h)for(var i of h(e))0>n.indexOf(i)&&x.call(e,i)&&(t[i]=e[i]);return t},_=e=>{let{size:n="m",variant:t="image",image:o,badge:l}=e,d=v(e,["size","variant","image","badge"]),{hasAction:u}=(0,i.M)(d);return(0,f.jsxs)(r.U.Wrapper,{hasInteraction:u,children:[(0,f.jsx)(r.U,j(b({},d),{size:n,variant:t,unsafeClassName:c.wrapper,children:s.cloneElement(o,{className:(0,a.default)(c.image,c.size(n))})})),l&&(0,f.jsx)(r.U.Positioner,{size:n,thumbnailIsRound:"circle"===e.shape||e.isRound,children:l})]})};_.displayName="Fresha.DesignSystem.ImageThumbnail"}}]);
//# sourceMappingURL=54224-ee62035867594bff.js.map